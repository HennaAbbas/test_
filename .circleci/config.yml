version: 2.1
jobs:
  build:
    docker:
      - image: circleci/python:3.6-jessie-browsers
    steps:
#       - checkout
      - run: echo "hello world"
      - run: 
          command: |
            echo "running sleep command"
            current_wait_time=0
            
            while true; do
              if (( $current_wait_time > 600 )); then
                echo "current wait > 600"
                echo $current_wait_time
                if [[ "true" == "true" ]]; then
                  echo "Proceeding with future steps";
                  echo "exiting";
                  exit 0;
                else
                  echo "Failing job by exiting forcefully";
                  exit 1;
                fi
              else
                sleep 60
                current_wait_time=$(( current_wait_time + 60 ))
                echo "adding 60 to wait time"
              fi 
            done   
      
workflows:
    version: 2.1
    build_and_push:
      jobs:
        - build




