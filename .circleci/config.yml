version: '2.1'

# jobs:
#   build:
# #     docker:
# #     - image: windows-server-2022-gui:edge
#     machine:
#       image: windows-server-2022-gui:edge
orbs:
  win: circleci/windows@5.0 # The Windows orb gives you everything you need to start using the Windows executor. 
  ruby: circleci/ruby@2.0.0
  node: circleci/node@2
  browser-tools: circleci/browser-tools@1.4.1  

jobs:
  build: # name of your job
    docker:
      - image: cimg/go:1.20.0
    steps:
      - checkout
    
    
  run_unit_tests-1:
    resource_class: macos.x86.medium.gen2
    macos:
      xcode: 14.2.0
    steps:
      - run:
          command: brew --version
     
        
  run_unit_tests-2:
    macos:
      xcode: 14.3.0
    resource_class: macos.m1.large.gen1      
    steps:
      - run:
          command: brew --version        
#       - browser-tools/install-chrome
#       - browser-tools/install-chromedriver
#       - run:
#           command: |
#             google-chrome --version
#             chromedriver --version
#           name: Check install  
#       - run:
#           name: chmod webdrivers
#           command: chmod +x /home/circleci/.webdrivers/chromedriver      
        

workflows:
  main:
    jobs:
      - build
      - run_unit_tests-1
      - run_unit_tests-2

