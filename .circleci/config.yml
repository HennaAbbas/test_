version: 2.1

jobs:
  fe:
    executor:
      name: node/default
      tag: '16.3.0'

    working_directory: ~/repo

    steps:
      - checkout

      - run:
          name: Install typed-css-modules
          command: |
            mkdir ~/node_path/
            cd ~/node_path/
            npm install typed-css-modules
            ln -s ~/node_path/node_modules/typed-css-modules/lib/cli.js ~/tcm

      - run:
          name: Install packages
          command: |
            cd ~/repo/
            cd client-v2 && yarn cache clean && yarn install

workflows:
  sqlmonitor:
    jobs:
      - fe
