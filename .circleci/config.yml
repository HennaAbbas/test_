version: 2.1
orbs:
  macos: circleci/macos@2.4.1
  
jobs:
  build:
    parameters:
      branch:
        type: string
        default: $CIRCLE_BRANCH 
    macos:
      xcode: 15.0.0
    
    steps:
      - run: echo <<parameters.branch>>
      - run: xrm
      - run:
          command: |
            while true; do
              sleep 600
              echo "this in running  in the background"
            done
          background: true
      - macos/enable-vnc
  test:
    macos:
      xcode: 15.0.0


    steps:
      - run: xcodebuild -version      



workflows:
  say-hello-workflow:
    jobs:
      - test
      - build


