version: 2.1

jobs:
  example_job:
    docker:
      - image: circleci/python:3.8
    steps:
      - checkout
      
      # Your main steps here
      - run:
          name: Run Tests
          command: |
            # Simulate test execution
            pytest tests/ || echo "Tests failed"
      - run: wqr     

      # Always persist to workspace, even if the previous step fails
      - run:
          name: Persist Workspace
          command: |
            echo "Persisting workspace..."
            # You can add any commands needed to prepare your workspace here
      - persist_to_workspace:
          root: /home/circleci/project
          paths:
            - path/to/persist

workflows:
  version: 2
  build:
    jobs:
      - example_job
