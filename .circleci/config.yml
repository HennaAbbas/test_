version: 2.1
jobs:
  build:
    docker:
      - image: cimg/base:current
    steps:
      - run: echo "Hi I'm on a Build job"

  test:
    docker:
      - image: cimg/base:current
    steps:
      - run: echo "Hi I'm on a test job"


  deploy:
    docker:
      - image: cimg/base:current
    steps:
      - run: echo "Hi I'm on a deploy job"
    

workflows:
  build-workflow:
    jobs:
      - build:
          filters:
            branches:
              only: branch_filter   
      - test: 
          filters:
            branches: 
              only: master
      
      - deploy:
          filters:
            branches:
              only: branch_filter          
          requires:
            - test
            - build



      

##----------------------------      

#       #pulled the image locally
# version: 2.1

# workflows:
#   build-workflow:
#     jobs:
#       - runner
# jobs:
#   runner:
#     machine: true
#     resource_class: henna/testrunner
#     steps:
#       - run: echo "Hi I'm on machine-runner!"
