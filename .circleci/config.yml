# Inside config.yml
version: 2.1
orbs:
  cli: circleci/circleci-cli@0.1.9
  #test

jobs:
  test:
    executor: cli/default
    steps:
      - run: echo "this job is using the orb's default executor"
      - cli/install
      - cli/setup
      - run: cat /home/circleci/.circleci/cli.yml
      - run: circleci policy test
      - run: echo "the CLI is now installed"
  myjob:
    docker:
      - image: cimg/base:2023.11
    steps:
      - run: echo "hello world"
  build-and-test-job:
    docker:
      - image: cimg/base:2023.11
    steps:
      - run: echo "hello world"      
  build:
    docker:
      - image: cimg/base:2023.11
    steps:
      - run: echo "hello world"         

          
workflows:
  workflow:
    jobs:
      - myjob: 
          type: approval
      - build:
          context: validation-project-context          
      - test: 
          requires: 
            - myjob
      - build-and-test-job:
          requires:
            - myjob
            - test         
   



